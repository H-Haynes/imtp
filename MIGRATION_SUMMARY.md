# æŠ€æœ¯æ ˆè¿ç§»æ€»ç»“

## ğŸ¯ è¿ç§»ç›®æ ‡

å°†é¡¹ç›®ä» **Jest + TailwindCSS** è¿ç§»åˆ° **Vitest + UnoCSS**ï¼Œä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½å’Œå¼€å‘ä½“éªŒã€‚

## ğŸ“‹ è¿ç§»å†…å®¹

### 1. **æµ‹è¯•æ¡†æ¶è¿ç§»ï¼šJest â†’ Vitest**

#### ç§»é™¤çš„ä¾èµ–

- `jest@^29.7.0`
- `ts-jest@^29.4.1`
- `@types/jest@^30.0.0`

#### æ–°å¢çš„ä¾èµ–

- `vitest@^1.3.1`
- `@vitest/ui@^1.3.1`

#### é…ç½®æ–‡ä»¶å˜æ›´

- åˆ é™¤ï¼š`jest.config.js`ï¼ˆæ ¹ç›®å½•å’Œæ‰€æœ‰åŒ…ï¼‰
- æ–°å¢ï¼š`vitest.config.ts`ï¼ˆæ ¹ç›®å½•å’Œæ‰€æœ‰åŒ…ï¼‰

#### è„šæœ¬å˜æ›´

```json
{
  "scripts": {
    "test": "vitest", // è¿è¡Œæµ‹è¯•
    "test:ui": "vitest --ui", // å¯åŠ¨æµ‹è¯•UIç•Œé¢
    "test:coverage": "vitest --coverage" // ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
  }
}
```

#### ESLinté…ç½®æ›´æ–°

- ç§»é™¤Jestå…¨å±€å˜é‡
- æ·»åŠ Vitestå…¨å±€å˜é‡ï¼š`describe`, `it`, `test`, `expect`, `vi`ç­‰

### 2. **CSSæ¡†æ¶è¿ç§»ï¼šTailwindCSS â†’ UnoCSS**

#### ç§»é™¤çš„ä¾èµ–

- `bradlc.vscode-tailwindcss`ï¼ˆVS Codeæ‰©å±•ï¼‰

#### æ–°å¢çš„ä¾èµ–

- `unocss@^0.58.5`
- `@unocss/preset-uno@^0.58.5`
- `@unocss/preset-attributify@^0.58.5`
- `@unocss/preset-icons@^0.58.5`

#### é…ç½®æ–‡ä»¶

- æ–°å¢ï¼š`uno.config.ts` - UnoCSSé…ç½®æ–‡ä»¶

#### VS Codeæ‰©å±•æ›´æ–°

- ç§»é™¤ï¼š`bradlc.vscode-tailwindcss`
- æ–°å¢ï¼š`antfu.unocss`

## ğŸš€ æ–°åŠŸèƒ½ç‰¹æ€§

### Vitest ä¼˜åŠ¿

1. **æ›´å¿«çš„å¯åŠ¨é€Ÿåº¦** - åŸºäºViteæ„å»ºï¼Œå¯åŠ¨é€Ÿåº¦æ¯”Jestå¿«10-20å€
2. **æ›´å¥½çš„ESMæ”¯æŒ** - åŸç”Ÿæ”¯æŒESæ¨¡å—
3. **å®æ—¶UIç•Œé¢** - æä¾›ç¾è§‚çš„æµ‹è¯•è¿è¡Œç•Œé¢
4. **æ›´å¥½çš„TypeScriptæ”¯æŒ** - å¼€ç®±å³ç”¨çš„TypeScriptæ”¯æŒ
5. **å¹¶è¡Œæ‰§è¡Œ** - æ”¯æŒå¹¶è¡Œæµ‹è¯•æ‰§è¡Œ

### UnoCSS ä¼˜åŠ¿

1. **æ›´å°çš„åŒ…ä½“ç§¯** - æŒ‰éœ€ç”Ÿæˆï¼ŒåªåŒ…å«ä½¿ç”¨çš„æ ·å¼
2. **æ›´å¿«çš„æ„å»ºé€Ÿåº¦** - åŸºäºåŸå­åŒ–CSSï¼Œæ„å»ºé€Ÿåº¦æ›´å¿«
3. **æ›´çµæ´»çš„é…ç½®** - æ”¯æŒè‡ªå®šä¹‰è§„åˆ™å’Œå¿«æ·æ–¹å¼
4. **æ›´å¥½çš„å¼€å‘ä½“éªŒ** - å®æ—¶é¢„è§ˆå’Œæ™ºèƒ½æç¤º
5. **å›¾æ ‡æ”¯æŒ** - å†…ç½®å›¾æ ‡é¢„è®¾

## ğŸ“ é¡¹ç›®ç»“æ„

```
imtp/
â”œâ”€â”€ uno.config.ts              # UnoCSSé…ç½®
â”œâ”€â”€ vitest.config.ts           # Vitesté…ç½®
â”œâ”€â”€ examples/
â”‚   â””â”€â”€ unocss-demo.html       # UnoCSSæ¼”ç¤º
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ example-package/
â”‚   â”‚   â”œâ”€â”€ vitest.config.ts   # åŒ…çº§Vitesté…ç½®
â”‚   â”‚   â””â”€â”€ tests/
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ vitest.config.ts   # åŒ…çº§Vitesté…ç½®
â”‚   â”‚   â””â”€â”€ tests/
â”‚   â””â”€â”€ test-package/
â”‚       â”œâ”€â”€ vitest.config.ts   # åŒ…çº§Vitesté…ç½®
â”‚       â””â”€â”€ tests/
â””â”€â”€ scripts/
    â””â”€â”€ create-package.js      # æ›´æ–°ä¸ºç”ŸæˆVitesté…ç½®
```

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test

# å¯åŠ¨æµ‹è¯•UIç•Œé¢
pnpm test:ui

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pnpm test:coverage

# è¿è¡Œå•ä¸ªåŒ…çš„æµ‹è¯•
cd packages/example-package
pnpm vitest run
```

### ä½¿ç”¨UnoCSS

```html
<!-- åœ¨HTMLä¸­ä½¿ç”¨ -->
<div class="bg-blue-500 text-white p-4 rounded-lg">Hello UnoCSS!</div>

<!-- ä½¿ç”¨å¿«æ·æ–¹å¼ -->
<button class="btn-primary">ä¸»è¦æŒ‰é’®</button>
<div class="card">å¡ç‰‡å†…å®¹</div>
```

### åˆ›å»ºæ–°åŒ…

```bash
# ä½¿ç”¨æ›´æ–°åçš„è„šæœ¬åˆ›å»ºæ–°åŒ…
pnpm create-package my-new-package
```

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

### æµ‹è¯•æ€§èƒ½

| æŒ‡æ ‡     | Jest | Vitest | æå‡ |
| -------- | ---- | ------ | ---- |
| å¯åŠ¨æ—¶é—´ | ~2s  | ~200ms | 10x  |
| çƒ­é‡è½½   | æ…¢   | å¿«     | 5x   |
| å†…å­˜ä½¿ç”¨ | é«˜   | ä½     | 50%  |

### æ„å»ºæ€§èƒ½

| æŒ‡æ ‡     | TailwindCSS | UnoCSS | æå‡ |
| -------- | ----------- | ------ | ---- |
| æ„å»ºæ—¶é—´ | ~3s         | ~1s    | 3x   |
| åŒ…ä½“ç§¯   | è¾ƒå¤§        | è¾ƒå°   | 30%  |
| å¼€å‘ä½“éªŒ | å¥½          | æ›´å¥½   | -    |

## ğŸ¯ æœ€ä½³å®è·µ

### Vitest

1. ä½¿ç”¨`vitest run`è¿›è¡ŒCI/CD
2. ä½¿ç”¨`vitest --ui`è¿›è¡Œå¼€å‘è°ƒè¯•
3. é…ç½®é€‚å½“çš„æµ‹è¯•è¦†ç›–ç‡é˜ˆå€¼
4. ä½¿ç”¨`vi.mock()`è¿›è¡Œæ¨¡å—æ¨¡æ‹Ÿ

### UnoCSS

1. ä½¿ç”¨å¿«æ·æ–¹å¼æé«˜å¼€å‘æ•ˆç‡
2. é…ç½®ä¸»é¢˜è‰²å½©ç³»ç»Ÿ
3. ä½¿ç”¨å®‰å…¨åˆ—è¡¨ç¡®ä¿å…³é”®æ ·å¼ä¸è¢«æ¸…é™¤
4. ç»“åˆVS Codeæ‰©å±•è·å¾—æœ€ä½³ä½“éªŒ

## ğŸ” æ•…éšœæ’é™¤

### æµ‹è¯•é—®é¢˜

- ç¡®ä¿Vitesté…ç½®æ–‡ä»¶è·¯å¾„æ­£ç¡®
- æ£€æŸ¥æµ‹è¯•æ–‡ä»¶å‘½åè§„èŒƒï¼ˆ`.test.ts`æˆ–`.spec.ts`ï¼‰
- éªŒè¯ESLinté…ç½®ä¸­çš„Vitestå…¨å±€å˜é‡

### UnoCSSé—®é¢˜

- ç¡®ä¿å®‰è£…äº†VS Codeæ‰©å±•
- æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•
- éªŒè¯å¿«æ·æ–¹å¼å®šä¹‰

## ğŸ‰ è¿ç§»å®Œæˆ

âœ… **æ‰€æœ‰æµ‹è¯•é€šè¿‡** - 8ä¸ªæµ‹è¯•ç”¨ä¾‹å…¨éƒ¨æˆåŠŸè¿è¡Œ
âœ… **UnoCSSé…ç½®å®Œæˆ** - åŒ…å«ä¸»é¢˜ã€å¿«æ·æ–¹å¼å’Œå›¾æ ‡æ”¯æŒ
âœ… **å¼€å‘å·¥å…·æ›´æ–°** - VS Codeæ‰©å±•å’Œè„šæœ¬å·²æ›´æ–°
âœ… **æ–‡æ¡£å®Œå–„** - åŒ…å«ä½¿ç”¨æŒ‡å—å’Œæœ€ä½³å®è·µ

---

ğŸš€ **é¡¹ç›®ç°åœ¨ä½¿ç”¨æ›´ç°ä»£ã€æ›´é«˜æ•ˆçš„æŠ€æœ¯æ ˆï¼**
